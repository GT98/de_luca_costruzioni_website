<app-hero-banner [title]="'Portfolio'"></app-hero-banner>

<section class="portfolio-list-section">
  
  <div class="filters-and-content-wrapper">

    <div class="filters-container">
      @for (category of categories(); track category) {
        <button 
          class="filter-button" 
          [class.active]="selectedCategory === category.id" 
          (click)="filterProjects(category.id)">
          {{ category.name }}
        </button>
      }
    </div>

    <div class="projects-grid">
      @for (project of paginatedRistrutturazioni(); track project.id) {
        <div class="project-card">
          <div (click)="goToDetail(project)" class="project-image-wrapper">
            <img [src]="project.cover_img" [alt]="project.title">
          </div>

          <div class="project-categories">
            @for (cat of project.categories; track cat) {
              <span class="category-tag">{{ cat }}</span>
            }
          </div>

          <h3 class="project-title">{{ project.title }}</h3>
          <div class="project-description">{{ project.description }}</div>
        </div>
      }
    </div>

    <!-- Paginatore -->
    <app-paginator
      [currentPage]="currentPage()"
      [totalItems]="ristrutturazioni().length"
      [itemsPerPage]="itemsPerPage"
      (pageChange)="onPageChange($event)">
    </app-paginator>
  </div>
</section>

<app-follow-on></app-follow-on>